# Udev rule to allow amc525_lmbf to be world readable and to create geographic
# ids.  This udev file works on RHEL7.

# Copy this file to /etc/udev/rules.d

# Start by giving full device access to dcs group.  This will need to be
# adjusted as appropriate
SUBSYSTEM=="amc525_lmbf", GROUP="dcs", MODE="0660"

# Now create geographical addresses.  We have to be bit tricky here to get the
# right device names, as we don't want the rather arbitrary sequence number
# generated by the kernel.

SUBSYSTEM=="amc525_lmbf", ENV{MINOR}=="0", IMPORT{builtin}="path_id", SYMLINK+="amc525_lmbf/$env{ID_PATH}/amc525_lmbf.reg"

SUBSYSTEM=="amc525_lmbf", ENV{MINOR}=="1", IMPORT{builtin}="path_id", SYMLINK+="amc525_lmbf/$env{ID_PATH}/amc525_lmbf.ddr0"

SUBSYSTEM=="amc525_lmbf", ENV{MINOR}=="2", IMPORT{builtin}="path_id", SYMLINK+="amc525_lmbf/$env{ID_PATH}/amc525_lmbf.ddr1"
